function getScroll(){var e=document.querySelectorAll(".box"),t=e.length-1,o=e[t].offsetTop,n=document.documentElement.clientHeight||document.body.clientHeight,l=document.documentElement.scrollTop||document.body.scrollTop;if(o<n+l)return!0}function imgLocation(){var e=document.querySelector(".container"),t=document.querySelectorAll(".box"),o=document.body.clientWidth,n=t[0].offsetWidth,l=Math.floor(o/n),i=l*n;e.style.width=i+"px";for(var c=[],g=0;g<t.length;g++)if(g<l)c[g]=t[g].offsetHeight;else{var r=Math.min.apply(null,c);t[g].style.position="absolute",t[g].style.top=r+"px";var p=getMinHeight(c,r);t[g].style.left=t[p].offsetLeft+"px",c[p]=c[p]+t[g].offsetHeight}}function getMinHeight(e,t){for(var o in e)if(e[o]===t)return o}window.onload=function(){imgLocation();var e=["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg","7.jpg","8.jpg","9.jpg","10.jpg","11.jpg","12.jpg","13.jpg","14.jpg","15.jpg","16.jpg","17.jpg","18.jpg","19.jpg","20.jpg"];window.onscroll=function(){if(getScroll()){for(var t=0;t<e.length;t++){var o=document.createElement("div"),n=document.querySelector(".container");o.className="box",n.appendChild(o);var l=document.createElement("img");l.src="img/"+e[t],o.appendChild(l)}imgLocation()}}};